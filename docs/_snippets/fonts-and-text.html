---
title: Fonts and text
---

<p>
    To create models based on fonts, use <a href="/docs/api/classes/makerjs.models.text.html#constructor">makerjs.models.Text</a> with the <b>new</b> operator.
    Pass a font object, your text, and a font size. Each character of your text string will become a child model containing the paths for that character.
</p>

<h4>Compatible Font Libraries</h4>

<p>
    There are 2 font libraries compatible with Maker.js:
</p>

<ul>
    <li>
        <b><a href="http://opentype.js.org/">Opentype.js</a></b> by Frederik De Bleser - reads TrueType and OpenType fonts (.ttf, .otf).
        Visit the <a href="https://github.com/nodebox/opentype.js">Opentype.js GitHub</a> for API details.
    </li>
    <li>
        <b><a href="https://github.com/foliojs/fontkit">fontkit</a></b> by devongovett - an advanced font engine supporting TrueType, OpenType, WOFF/WOFF2, and font collections (.ttc, .dfont).
        fontkit provides additional features including variable fonts, color glyphs (emoji), and advanced OpenType layout features (GSUB/GPOS).
        When using fontkit with color fonts, glyphs are automatically organized into layers by color.
    </li>
</ul>

<p>
    The Text model automatically detects which library you're using and handles both transparently.
    You will need to know how to load font files before you can use them in Maker.js.
</p>

<hr />

<h4>Loading fonts in the browser</h4>

<p>
    Use <code>opentype.load(url, callback)</code> to load a font from a URL. Since this method goes out the network, it is asynchronous.
    The callback gets <code>(err, font)</code> where <code>font</code> is a <code>Font</code> object. Check if the <code>err</code> is null before using the font.
</p>

<p>
    Previously, all of our examples ran synchronously and we could use <code>document.write</code> to output a result.
    But now we will need to wait for a font file to download. You will have to take this in consideration in your application.
    <a href="/playground/?script=Text">In the Maker.js Playground we can call playgroundRender()</a>.
    Here on this page we will insert our SVG into a <code>div</code> in this document:
</p>

{% highlight javascript %}
var makerjs = require('makerjs');

//load a font asynchronously
opentype.load('/fonts/stardosstencil/StardosStencil-Bold.ttf', function (err, font) {

    if (err) {
        document.getElementById('render-text').innerText = 'the font could not be loaded :(';
    } else {

        var textModel = new makerjs.models.Text(font, 'Hello', 100);

        var svg = makerjs.exporter.toSVG(textModel);

        document.getElementById('render-text').innerHTML = svg;
    }
});
{% endhighlight %}

<div id="render-text">
    <i>...waiting for font to download...</i>
</div>

<script>
    var makerjs = require('makerjs');

    //load a font asynchronously
    opentype.load('/fonts/stardosstencil/StardosStencil-Bold.ttf', function (err, font) {

        if (err) {
            document.getElementById('render-text').innerText = 'the font could not be loaded :(';
        } else {

            var textModel = new makerjs.models.Text(font, 'Hello', 100);

            var svg = makerjs.exporter.toSVG(textModel);

            document.getElementById('render-text').innerHTML = svg;
        }
    });
</script>

<hr />

<h4>Loading fonts in Node.js</h4>

<p>
    <b>With Opentype.js:</b>
</p>

<p>
    Use <code>opentype.loadSync(url)</code> to load a font from a file and return a Font object. Throws an error if the font could not be parsed. This only works in Node.js.
</p>

{% highlight javascript %}
var makerjs = require('makerjs');
var opentype = require('opentype.js');

var font = opentype.loadSync('./fonts/stardosstencil/StardosStencil-Regular.ttf');

var textModel = new makerjs.models.Text(font, 'Hello', 100);

console.log(makerjs.exporter.toSVG(textModel));
{% endhighlight %}

<p>
    <b>With fontkit:</b>
</p>

<p>
    Use <code>fontkit.openSync(filename)</code> to load a font from a file. fontkit must be installed separately: <code>npm install fontkit</code>
</p>

{% highlight javascript %}
var makerjs = require('makerjs');
var fontkit = require('fontkit');

var font = fontkit.openSync('./fonts/stardosstencil/StardosStencil-Regular.ttf');

var textModel = new makerjs.models.Text(font, 'Hello', 100);

console.log(makerjs.exporter.toSVG(textModel));
{% endhighlight %}

<p>
    Finally, a phenomenon to be aware of is that fonts aren't always perfect. You may encounter cases where paths within a character are self-intersecting or otherwise not forming closed geometries.
    This is not common, but it is something to be aware of, especially during combine operations.
</p>
